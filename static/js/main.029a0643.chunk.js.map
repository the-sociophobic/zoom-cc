{"version":3,"sources":["components/NewVersion/models/subtitle.js","components/Input.js","utils/serverURL.js","utils/copyToClipboard.js","components/NewVersion/index.js","components/OldVersion/fns.js","components/OldVersion/index.js","App.js","serviceWorker.js","index.js"],"names":["id","type","APIToken","required","example","line","number","posted","Input","props","focus","inputFieldRef","current","blur","onKeyDown","e","value","match","onChange","replace","onFocus","onBlur","render","className","errorMessage","ref","placeholder","event","target","disabled","label","React","createRef","Component","process","copyToClipboard","str","el","document","createElement","body","appendChild","select","execCommand","removeChild","axios","defaults","headers","post","NewVersion","componentDidMount","login","state","activateLoader","fn","a","setState","loading","subtitles","forEach","sub","style","tryPost","URL","res","data","error","console","log","alert","length","map","serverURL","window","localStorage","setItem","logout","removeItem","undefined","APITokenInput","initialText","next","saveSubtitle","subtitle","_","pick","keys","model","deleteSubtitle","swapSubtitles","sub0","sub1","subtitle0","subtitle1","insertSubtitle","prevSub","index","slice","setTimeout","renderLoading","renderLogin","onClick","renderControl","indexOf","renderSubtitles","filter","data-toggle","data-placement","title","format","Date","rows","keyCode","includes","height","ReactDOM","createPortal","getItem","requestLink","count","OldVersion","counter","text","split","history","replaceState","string","then","postCC","parseInt","location","hash","App","setVersion","ver","currentVersion","renderButtons","role","aria-label","renderHeader","renderSelect","Boolean","hostname","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.029a0643.chunk.js","sourcesContent":["export default {\n  id: {\n    type: 'ref',\n  },\n  APIToken: {\n    type: 'string',\n    required: true,\n    example: \"zjhdfboepsDKFB\",\n  },\n  line: {\n    type: 'string',\n    required: true,\n    example: \"привет,\",\n  },\n  number: {\n    type: 'number',\n    required: true,\n    example: 0,\n  },\n  posted: {\n    type: 'number',\n    example: 1230000,\n  }\n}","import React, { Component } from 'react'\n\n\nexport default class Input extends Component {\n  constructor(props) {\n    super(props)\n    this.inputFieldRef = props.inputFieldRef || React.createRef()\n  }\n\n  focus = () => this.inputFieldRef.current && this.inputFieldRef.current.focus()\n  blur = () => this.inputFieldRef.current && this.inputFieldRef.current.blur()\n\n  onKeyDown = e => {\n    const value = \"\" + this.props.value\n    \n    if (this.props.number)\n      if (this.props.value && value.match(/[^0-9]/g))\n        this.props.onChange(value.replace(/[^0-9]/g, ''))\n    this.props.onKeyDown && this.props.onKeyDown(e)\n  }\n  onFocus = e => {\n    this.props.onFocus && this.props.onFocus(e)\n  }\n  onBlur = e => {\n    this.props.onBlur && this.props.onBlur(e)\n  }\n\n  render = () => (\n    <div\n      className={\"form-group \" +\n        this.props.className + \" \" +\n        (this.props.errorMessage && \"form-group--error\")\n      }\n    >\n      <input\n        ref={this.inputFieldRef}\n        type={this.props.number ? \"number\" : \"text\"}\n        className=\"form-group__input\"\n        placeholder={this.props.placeholder}\n        required={this.props.required}\n        value={this.props.value}\n        onChange={event => this.props.onChange(event.target.value)}\n        onFocus={this.onFocus}\n        onBlur={this.onBlur}\n        onKeyDown={this.onKeyDown}\n        disabled={this.props.disabled}\n      />\n      {this.props.label &&\n        <label className=\"form-group__label\">\n          {this.props.label}\n        </label>}\n    </div>\n  )\n}\n","export default process.env.NODE_ENV === 'production' ?\n  \"https://schedule.tochkadostupa.spb.ru/zoom-cc/\"\n  :\n  \"http://localhost:3000/zoom-cc/\"","const copyToClipboard = str => {\n  const el = document.createElement('textarea')\n\n  el.value = str\n  document.body.appendChild(el)\n  el.select()\n  document.execCommand('copy')\n  document.body.removeChild(el)\n}\n\n\nexport default copyToClipboard","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport axios from 'axios'\nimport { format } from 'date-fns'\nimport _ from 'lodash'\n\nimport model from './models/subtitle'\nimport Input from 'components/Input'\nimport serverURL from 'utils/serverURL'\nimport copyToClipboard from 'utils/copyToClipboard'\n\nimport 'styles/index.sass'\n\n\naxios.defaults.headers.post['Accept'] = \"*/*\"\naxios.defaults.headers.post['Content-Type'] = \"json\"\n\n\nclass NewVersion extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const APIToken = window.localStorage.getItem('APIToken')\n\n    this.state = {\n      APITokenInput: \"\",\n      APIToken: APIToken || \"\",\n      subtitles: [],\n      // APIToken: APIToken || \"a\",\n      // subtitles: [\n      //   {id: 1, number: 1, line: \"a\", posted: true },\n      //   {id: 2, number: 2, line: \"b\" },\n      //   {id: 3, number: 3, line: \"c\" },\n      //   {id: 4, number: 4, line: \"d\" },\n      //   {id: 5, number: 5, line: \"e\" },\n      // ],\n      initialText: \"\",\n      loading: false,\n    }\n  }\n\n  componentDidMount = () =>\n    this.login(this.state.APIToken)\n\n  activateLoader = async fn => {\n    this.setState({loading: true})\n    await fn()\n    this.state.subtitles\n      .forEach(sub =>\n        sub.ref.current &&\n          (sub.ref.current.style = ''))\n    this.setState({loading: false})\n  }\n\n  tryPost = async (URL, props) =>\n    await this.activateLoader(async () => {\n      const res = (await axios.post(URL, props)).data\n\n      if (res.error) {\n        console.log(res.error)\n        alert(\"Error: check the console\")\n        return\n      }\n  \n      this.setState({\n        subtitles: [\n          ...res,\n          {\n            APIToken: this.state.APIToken,\n            number: res.length === 0 ? 1 : res[res.length - 1].number + 1,\n            line: \"\"\n          }\n        ].map(sub => ({\n          ...sub,\n          ref: React.createRef()\n        }))\n      })\n    })\n\n  login = async APIToken => {\n    if (APIToken) {\n      await this.tryPost(\n        serverURL + \"login\",\n        { APIToken: APIToken })\n\n      this.setState({APIToken: APIToken})\n      window.localStorage.setItem('APIToken', APIToken)\n    }\n  }\n\n  logout = () => {\n    window.localStorage.removeItem('APIToken')\n    this.setState({\n      APIToken: undefined,\n      subtitles: [],\n      APITokenInput: \"\",\n      initialText: \"\",\n    })\n  }\n\n  next = async () =>\n    await this.tryPost(\n      serverURL + \"next\",\n      { APIToken: this.state.APIToken })\n\n  saveSubtitle = async sub =>\n    await this.tryPost(\n      serverURL + \"save\",\n      { subtitle: _.pick(sub, _.keys(model)) })\n\n  deleteSubtitle = async sub => \n    await this.tryPost(\n      serverURL + \"delete\",\n      { subtitle: _.pick(sub, _.keys(model)) })\n\n  swapSubtitles = async (sub0, sub1) =>\n    await this.tryPost(\n      serverURL + \"swap\",\n      { subtitle0: sub0.id, subtitle1: sub1.id })\n\n  insertSubtitle = (prevSub, index) => {\n    this.setState({\n      subtitles: [\n        ...this.state.subtitles.slice(0, index + 1),\n        {\n          line: \"\",\n          number: prevSub.number + 1,\n          APIToken: this.state.APIToken,\n          ref: React.createRef(),\n        },\n        ...this.state.subtitles.slice(index + 1)\n      ]\n    })\n    setTimeout(() =>\n      this.state.subtitles[index + 1].ref.current.focus()\n    , 200)\n  }\n\n\n  renderLoading = () =>\n    this.state.loading &&\n      <div className=\"loader\" />\n\n  renderLogin = () =>\n    <div className=\"login\">\n      <div className=\"container\">\n        <Input\n          value={this.state.APITokenInput}\n          onChange={value => this.setState({APITokenInput: value})}\n          label=\"ZOOM API token\"\n          placeholder=\"Copy the API token from Zoom. Paste it here\"\n        />\n        <button\n          className=\"button button--main mt-3\"\n          onClick={() => this.login(this.state.APITokenInput)}\n        >\n          Log in\n        </button>\n      </div>\n    </div>\n\n  renderControl = () =>\n    <div className=\"control\">\n      <div className=\"container\">\n        <div className=\"control__header\">\n          <div className=\"control__header__token\">\n            {this.state.APIToken\n              .slice(this.state.APIToken.indexOf('id'))}\n          </div>\n          <button\n            className=\"control__header__exit\"\n            onClick={() => this.logout()}\n          >\n            Log out\n          </button>\n        </div>\n      </div>\n\n      <div className=\"control__content\">\n        {this.renderSubtitles()}\n      </div>\n\n      <div className=\"control__next\">\n        <div className=\"container\">\n          <button\n            disabled={\n              this.state.subtitles.filter(sub => !sub.posted).length === 0 ||\n              !this.state.subtitles.filter(sub => !sub.posted)[0].id}\n            className=\"button button--main\"\n            onClick={() => this.next()}\n          >\n            NEXT\n          </button>\n        </div>\n      </div>\n    </div>\n\n  renderSubtitles = () =>\n    <div className=\"container\">\n      <div className=\"control__subtitles\">\n        {this.state.subtitles.length === 0 || !this.state.subtitles[0].id ?\n          <>\n            <textarea\n              className=\"control__subtitles__textarea\"\n              value={this.state.initialText}\n              onChange={e => this.setState({initialText: e.target.value})}\n              placeholder=\"Enter text and press «save». Each line will be a separate subtitle\"\n            />\n            <button\n              className=\"button button--main\"\n              disabled={this.state.initialText.length === 0}\n              onClick={() => this.saveSubtitle({\n                line: this.state.initialText,\n                APIToken: this.state.APIToken,\n                number: 1,\n              })}\n            >\n              save\n            </button>\n          </>\n          :\n          this.state.subtitles\n            .map((sub, index) =>\n              <div\n                key={sub.id || sub.number}\n                className={`control__subtitles__item ${sub.posted && \"control__subtitles__item--posted\"}`}\n              >\n                <div className=\"control__subtitles__item__number\">\n                  {sub.id && `${sub.number}.`}\n                </div>\n                {sub.posted ?\n                  <>\n                    <div className=\"control__subtitles__item__input\">\n                      {sub.line}\n                    </div>\n                    <button\n                      className=\"button button--control button--copy\"\n                      onClick={() => copyToClipboard(sub.line)}\n                      data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"copy this subtitles text to clipboard\"\n                    />\n                    <div className=\"control__subtitles__item__posted\">\n                      {format(new Date(sub.posted), 'HH:mm:ss')}\n                    </div>\n                  </>\n                  :\n                  <>\n                    <textarea\n                      ref={sub.ref}\n                      className=\"control__subtitles__item__input\"\n                      value={sub.line}\n                      rows={1}\n                      onKeyDown={e =>\n                        e.keyCode === 27 &&\n                        (sub.ref.current && sub.ref.current.blur())}\n                      onChange={e => {\n                        this.setState({\n                          subtitles: [\n                            ...this.state.subtitles.slice(0, index),\n                            {\n                              ...sub,\n                              line: e.target.value,\n                            },\n                            ...this.state.subtitles.slice(index + 1),\n                          ]\n                        })\n\n                        if (e.target.value.includes('\\n'))\n                          sub.ref.current.style.height = \"200px\"\n                      }}\n                      onBlur={() => this.saveSubtitle(sub)}\n                    />\n                    <div className=\"control__subtitles__item__buttons\">\n                      <button\n                        className=\"button button--control button--add\"\n                        disabled={!sub.id || index > this.state.subtitles.length - 3}\n                        onClick={() => this.insertSubtitle(sub, index)}\n                        data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"add new subtitle after that one\"\n                      />\n                      <button\n                        className=\"button button--control button--remove\"\n                        disabled={!sub.id}\n                        onClick={() => this.deleteSubtitle(sub)}\n                        data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"remove this subtitle\"\n                      />\n                      <button\n                        className=\"button button--control button--down\"\n                        disabled={!sub.id || index === this.state.subtitles.length - 2}\n                        onClick={() => this.swapSubtitles(sub, this.state.subtitles[index + 1])}\n                        data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"move this subtitle down\"\n                      />\n                      <button\n                        className=\"button button--control button--up\"\n                        disabled={!sub.id || index === 0 || this.state.subtitles[index - 1].posted !== 0}\n                        onClick={() => this.swapSubtitles(sub, this.state.subtitles[index - 1])}\n                        data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"move this subtitle up\"\n                      />\n                    </div>\n                  </>\n                }\n              </div>\n            )}\n      </div>\n    </div>\n\n\n  render = () =>\n    <div className=\"NewVersion\">\n      {this.state.APIToken ?\n        this.renderControl()\n        :\n        this.renderLogin()}\n\n      {ReactDOM.createPortal(\n        this.renderLoading(),\n        document.body)}\n    </div>\n}\n\n\nexport default NewVersion\n","import axios from 'axios'\nimport serverURL from 'utils/serverURL'\n\n\naxios.defaults.headers.post['Accept'] = \"*/*\"\naxios.defaults.headers.post['Content-Type'] = \"json\"\n\nconst requestLink = props =>\n  props.APIToken + `&seq=${props.count}&lang=ru`\n\nconst postCC = props => \n  axios\n    .post(\n      serverURL + \"old\",\n      {\n        URL: requestLink(props),\n        string: props.string + \"\\n\"\n      }\n    ).then(a => console.log(a.data))\n\n\nexport {\n  postCC\n}","import React, { Component } from 'react'\n\nimport Input from 'components/Input'\nimport { postCC } from './fns'\n\n\nclass OldVersion extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      APIToken: \"\",\n      current: 0,\n      counter: parseInt(window.location.hash.replace(/[^0-9]/g, '')) || 0,\n      text: \"В это текстовое поле можно вбить свои субтитры.\\nКаждая новая строка будет отдельным субтитром\\nЧтобы в ZOOM отобразилась следующая строка, нажмите NEXT\\nЭту страницу не стоит перезагружать, иначе всё может сбиться и сломаться\\n\"\n    }\n  }\n\n  next = () => {\n    const { current, counter, text, APIToken } = this.state\n\n    if (current >= text.split(\"\\n\").length)\n      return\n\n    window.history.replaceState(null, null, \"/zoom-cc/#\" + counter)\n    console.log(counter)\n    postCC({\n      string: text.split(\"\\n\")[current],\n      count: counter,\n      APIToken: APIToken,\n    })\n    this.setState({current: current + 1, counter: counter + 1})\n  }\n\n\n  render = () =>\n    <div className=\"OldVersion\">\n      <div className=\"container\">\n        <Input\n          value={this.state.APIToken}\n          onChange={value => this.setState({APIToken: value})}\n          label=\"ZOOM API token\"\n          placeholder=\"Скопируйте и вставьте ZOOM API token из приложения\"\n        />\n      </div>\n      <div className=\"container\">\n        Текущий субтитр: {this.state.current === 0 ?\n          \"\"\n          :\n          (this.state.current <= this.state.text.split(\"\\n\").length && this.state.text.split(\"\\n\")[this.state.current - 1])\n        }\n      </div>\n      <div className=\"container\">\n        <textarea\n          className=\"LinedTextArea\"\n          value={this.state.text}\n          onChange={e => this.setState({text: e.target.value})}\n        />\n      </div>\n      <div className=\"container\">\n        <button\n          disabled={this.state.APIToken.length === 0 ||\n            this.state.text.length === 0 ||\n            this.state.current >= this.state.text.split(\"\\n\").length\n          }\n          className=\"button button--main\"\n          onClick={() => this.next()}\n        >\n          NEXT\n        </button>\n      </div>\n    </div>\n}\n\n\nexport default OldVersion","import React, { Component } from 'react'\nimport $ from 'jquery'\n\nimport NewVersion from 'components/NewVersion'\nimport OldVersion from 'components/OldVersion'\n\nimport 'styles/index.sass'\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    // const currentVersion = window.localStorage.getItem('currentVersion')\n    const currentVersion = \"new\"\n\n    this.state = {\n      currentVersion: currentVersion\n    }\n  }\n\n  setVersion = ver => {\n    this.setState({currentVersion: ver})\n    window.localStorage.setItem('currentVersion', ver)\n  }\n\n  renderButtons = className =>\n    <div className={className}>\n      <button\n        className={`button ${this.state.currentVersion === \"new\" && \"button--selected\"}`}\n        onClick={() => this.setVersion(\"new\")}\n      >\n        новая крутая версия <span\n          className=\"emoji\"\n          role=\"img\"\n          aria-label=\"new\"\n          title=\"new\"\n        >\n          ✨\n        </span>\n      </button>\n      <button\n        className={`button ${this.state.currentVersion === \"old\" && \"button--selected\"}`}\n        onClick={() => this.setVersion(\"old\")}\n      >\n          старая привычная версия <span\n          className=\"emoji\"\n          role=\"img\"\n          aria-label=\"old\"\n          title=\"old\"\n        >\n          👴🏻\n        </span>\n      </button>\n    </div>\n\n  renderHeader = () =>\n    // this.renderButtons(\"App__header\")\n    \"\"\n\n  renderSelect = () =>\n    this.renderButtons(\"App__select\")\n\n  render = () => {\n    let res\n\n    switch (this.state.currentVersion) {\n      case \"old\":\n        res = <OldVersion />\n        break;\n      case \"new\":\n        res = <NewVersion />\n        break;\n      default:\n        res = this.renderSelect()\n    }\n\n    return (\n      <div className=\"App\">\n        {this.state.currentVersion && this.state.currentVersion.match(/new|old/) && this.renderHeader()}\n        {res}\n      </div>\n    )    \n  }\n}\n\n\n// $(function () {\n//   $('[data-toggle=\"tooltip\"]').tooltip()\n// })\n\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}